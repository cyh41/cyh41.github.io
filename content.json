{"meta":{"title":"south-park","subtitle":null,"description":"screw you guys I'm going home","author":"cyh41","url":"https://cyh41.github.io","root":"/"},"pages":[{"title":"Tags","date":"2019-03-22T16:05:04.000Z","updated":"2019-03-22T16:25:09.997Z","comments":true,"path":"tags/index.html","permalink":"https://cyh41.github.io/tags/index.html","excerpt":"","text":""},{"title":"Categories","date":"2019-03-22T15:58:29.000Z","updated":"2019-03-22T16:25:06.029Z","comments":true,"path":"categories/index.html","permalink":"https://cyh41.github.io/categories/index.html","excerpt":"","text":""}],"posts":[{"title":"vue-åŒå‘ç»‘å®šä¸äº‹ä»¶(ä¸Š)","slug":"vue-åŒå‘ç»‘å®šä¸äº‹ä»¶(ä¸Š)","date":"2019-09-17T09:47:58.000Z","updated":"2019-09-21T02:20:29.190Z","comments":true,"path":"2019/09/17/vue-åŒå‘ç»‘å®šä¸äº‹ä»¶(ä¸Š)/","link":"","permalink":"https://cyh41.github.io/2019/09/17/vue-åŒå‘ç»‘å®šä¸äº‹ä»¶(ä¸Š)/","excerpt":"","text":"Preface1.vueçš„åŒå‘ç»‘å®šæ˜¯ä»€ä¹ˆâ“2.v-modelçš„åŸç†æ˜¯ä»€ä¹ˆâ“3.ä¸ºä»€ä¹ˆv-modelåªé€‚ç”¨äºè¡¨å•å…ƒç´ â“4.ä¸ºä½•ä½ è¿™ä¹ˆæâ“ Whatâ€™s the v-model æ™®é€šè¡¨å•å…ƒç´ ä½¿ç”¨ v-model 12345678910111213141516171819202122232425262728&lt;!-- v-model.vue --&gt;&lt;template&gt; &lt;div&gt; &lt;input v-model=\"text\"&gt; &lt;!-- è¿™é‡Œçš„å€¼ä¼šè·Ÿinputçš„å€¼åŒæ­¥ --&gt; &lt;p&gt;&#123;&#123;text&#125;&#125;&lt;/p&gt; &lt;input type=\"checkbox\" v-model=\"checked\"&gt; &lt;!-- è¿™é‡Œçš„å€¼ä¼šè·Ÿcheckboxçš„å€¼åŒæ­¥ --&gt; &lt;p&gt;&#123;&#123;checked&#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: \"v-model\", data() &#123; return &#123; text: \"\", checked:false &#125;; &#125;&#125;;&lt;/script&gt; ç­‰åŒäº 123456789101112131415161718192021222324252627282930&lt;!-- v-model.vue --&gt;&lt;template&gt; &lt;div&gt; &lt;input :value=\"text\" @input=\"this.text = $event.target.value\"&gt; &lt;!-- è¿™é‡Œçš„å€¼ä¼šè·Ÿinputè¾“å…¥çš„å€¼åŒæ­¥ --&gt; &lt;p&gt;&#123;&#123;text&#125;&#125;&lt;/p&gt; &lt;input type=\"checkbox\" :checked=\"checked\" @change=\"checked = $event.target.checked\"&gt; &lt;!-- è¿™é‡Œçš„å€¼ä¼šè·Ÿcheckboxçš„å€¼åŒæ­¥ --&gt; &lt;p&gt;&#123;&#123;checked&#125;&#125;&lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: \"v-model\", data() &#123; return &#123; text: \"\", checked:false &#125;; &#125;&#125;;&lt;/script&gt; ç®€å•æ¥è¯´ v-modelå°±æ˜¯ prop + event çš„è¯­æ³•ğŸ¬ã€‚é’ˆå¯¹ä¸åŒçš„è¡¨å•ç±»å‹ï¼Œvueéƒ½ä¼šæœ‰ä¸€å¥—ä¸åŒçš„é»˜è®¤ mode ã€‚ text å’Œ textarea å…ƒç´ ä½¿ç”¨ value å±æ€§å’Œ input äº‹ä»¶ï¼› checkbox å’Œ radio ä½¿ç”¨ checked å±æ€§å’Œ change äº‹ä»¶ï¼› select å­—æ®µå°† value ä½œä¸º prop å¹¶å°† change ä½œä¸ºäº‹ä»¶ã€‚ è¿™é‡Œ ä¹Ÿå¾ˆå¥½çš„å›ç­”äº†å‰è¨€çš„ç¬¬3ä¸ªé—®é¢˜ã€‚ä¸ºä»€ä¹ˆv-modelåªé€‚ç”¨äºè¡¨å•å…ƒç´ ? å› ä¸ºåªæœ‰è¡¨å•å…ƒç´ ä¼šæœ‰é»˜è®¤çš„eventï¼Œå½“ç„¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰æŒ‡ä»¤å»è§£å†³ã€‚ä¸è¿‡å…¶å®ƒå…ƒç´ æœ¬èº«å°±æœ‰ä¸€äº›ä¸é”™çš„ç±»ä¼¼äº v-modelçš„æ–¹æ¡ˆã€‚ ç»„ä»¶ä½¿ç”¨ v-model 1234567891011121314151617&lt;!--el-input.vue --&gt;&lt;template&gt; &lt;input :value=\"value\" @input=\"$emit('input',$event.target.value)\" /&gt; &lt;/template&gt;&lt;script&gt;export default &#123; name:'el-input', //è¿™é‡Œå…¶å®é»˜è®¤é…ç½®äº†model // model: &#123; // props: \"value\", // event: \"input\" // &#125;, props:['value']&#125;&lt;/script&gt; 1234567891011121314151617181920&lt;!--el-checkbox.vue --&gt;&lt;template&gt; &lt;input type=\"checkbox\" :checked=\"checked\" @change=\"$emit('change',$event.target.checked)\" /&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name:'el-checkbox', //è¿™é‡Œéœ€è¦æ‰‹åŠ¨å£°æ˜model model: &#123; props: \"checked\", event: \"change\" &#125;, props:['checked']&#125;&lt;/script&gt; 123456789101112131415161718192021222324252627&lt;!--box.vue --&gt;&lt;template&gt; &lt;div&gt; &lt;el-input v-model=\"value\" /&gt; &lt;!--ç­‰åŒäº &lt;el-input :value=\"value\" @input=\"value=$event.target.value\"/&gt;--&gt; &lt;el-checkbox v-model=\"checked\"&gt;&lt;/el-checkbox&gt; &lt;!--ç­‰åŒäº &lt;el-input :checked=\"checked\" @change=\"value=$event.target.checked\"/&gt;--&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name:'box', data()&#123; return &#123; //el-inputç»‘å®šçš„å€¼ value:'', //el-checkboxç»‘å®šçš„å€¼ checked:false &#125;&#125;&#125;&lt;/script&gt; é€šè¿‡ä¸Šé¢çš„ğŸŒ°ï¼Œå…¶å®å¯ä»¥å¾ˆç›´è§‚çš„çœ‹åˆ°ï¼Œv-model æ‰€è°“çš„åŒå‘ç»‘å®šï¼ŒåŒæ ·ä¹Ÿåªæ˜¯ä¸ªè¯­æ³•ğŸ¬è€Œå·²ï¼Œå•å‘ç»‘å®švalue + äº‹ä»¶ä¾¦å¬ã€‚å…¶å®æ“ä½œçš„éƒ½åªæ˜¯åŒä¸€ä¸ªvalueã€‚ åœ¨ä½¿ç”¨ v-model è¿›è¡Œä¸Šé¢æ“ä½œçš„æ—¶å€™æœ‰å‡ ä¸ªåœ°æ–¹éœ€è¦æ³¨æ„âš ï¸ï¼š v-model ä»…ä»…é€‚ç”¨äºè¡¨å•å…ƒç´  12345678910111213141516&lt;!--el-input.vue --&gt; &lt;template&gt; &lt;!--v-modelè¢«ä¼ é€’åˆ°äº†æ ¹å…ƒç´ divä¸Šï¼Œæ­¤æ—¶inputçš„æ“ä½œéƒ½æ— æ•ˆäº† --&gt; &lt;div&gt; &lt;input :value=\"value\" @input=\"$emit('input',$event.target.value)\" /&gt; &lt;/div&gt;&lt;/template&gt;&lt;!--box.vue--&gt;&lt;template&gt; &lt;div&gt; &lt;!--è¿™é‡Œä¼šæŠŠv-modelä¼ é€’åˆ°el-inputçš„æ ¹å…ƒç´ ä¸Š --&gt; &lt;el-input v-model=\"value\"&gt;&lt;/el-input&gt; &lt;/div&gt;&lt;/template&gt; å­ç»„ä»¶ä¸­ä¸èƒ½ä½¿ç”¨ v-model ç»‘å®šçˆ¶ç»„ä»¶ä¼ é€’çš„propçš„å€¼ 123456789101112&lt;!--el-input.vue --&gt; &lt;template&gt; &lt;!--è¿™é‡Œæ²¡æœ‰ä½¿ç”¨è¯­æ³•ç³–v-model &lt;input :value=\"value\" @input=\"$emit('input',$event.target.value)\" /&gt;--&gt; &lt;!--å¦‚æœä½¿ç”¨v-model --&gt; &lt;input v-model=\"value\"/&gt; &lt;!--ç­‰åŒäº &lt;input :value=\"value\" @input=\"value=$event.target.value\" /&gt;--&gt;&lt;/template&gt; å¦‚æœè¿™ä¹ˆå†™ä¼šç›´æ¥âš ï¸ æ‰€æœ‰çš„ prop éƒ½ä½¿å¾—å…¶çˆ¶å­ prop ä¹‹é—´å½¢æˆäº†ä¸€ä¸ªå•å‘ä¸‹è¡Œç»‘å®šï¼šçˆ¶çº§ prop çš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œã€‚è¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–æ”¹å˜çˆ¶çº§ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµå‘éš¾ä»¥ç†è§£ã€‚","categories":[{"name":"front-end","slug":"front-end","permalink":"https://cyh41.github.io/categories/front-end/"}],"tags":[{"name":"What's up Vue","slug":"What-s-up-Vue","permalink":"https://cyh41.github.io/tags/What-s-up-Vue/"},{"name":"component communication","slug":"component-communication","permalink":"https://cyh41.github.io/tags/component-communication/"}]},{"title":"vue-$attrs","slug":"vue-$attrs","date":"2019-08-23T08:24:06.000Z","updated":"2019-09-20T07:33:34.856Z","comments":true,"path":"2019/08/23/vue-$attrs/","link":"","permalink":"https://cyh41.github.io/2019/08/23/vue-$attrs/","excerpt":"","text":"Prefaceåœ¨æˆ‘ä»¬æ—¥å¸¸é€šä¿¡ä¸­ï¼Œpropï¼ŒåŸºæœ¬å¯ä»¥æ»¡è¶³ä¸šåŠ¡åœºæ™¯ä¸­çˆ¶å­é€šä¿¡çš„æƒ…å†µã€‚ä½†åœ¨é«˜çº§ç»„ä»¶ä¸­ï¼Œæ¯”å¦‚è‡ªå·±å†™çš„é€šç”¨ç»„ä»¶ï¼ŒäºŒæ¬¡å°è£…elementç­‰UIæ¡†æ¶ç­‰åœºæ™¯ï¼Œattrså’Œlistenerså°±å¤§æœ‰ä½œä¸ºäº†ã€‚ Basics Code 1234567&lt;!-- China.vue --&gt;&lt;template&gt; &lt;div class=\"China\"&gt; &lt;HongKong where=\"China\" :money=\"100\"/&gt; &lt;/div&gt;&lt;/template&gt; 123456789101112131415161718&lt;!-- HongKong.vue --&gt;&lt;template&gt; &lt;div class=\"HongKong\"&gt; &lt;p&gt; Hongkong is part of &#123;&#123;where&#125;&#125; &lt;/p&gt; &lt;p&gt; show me the money:&#123;&#123;money&#125;&#125; &lt;/p&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: \"HongKong\", props: [\"where\"]&#125;;&lt;/script&gt; devTools Rendering å›¾ä¸­ Mustacheè¯­æ³•moneyæœªåœ¨å®ä¾‹ä¸­æ‰¾åˆ°è¯¥å±æ€§çš„å£°æ˜ï¼Œä¼šæŠ¥Property or method &quot;money&quot; is not defined on the instance but referenced during renderé”™è¯¯ã€‚è¯·ç¡®å®šå£°æ˜åå†ä½¿ç”¨ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œçˆ¶ç»„ä»¶ ä¼ é€’çš„å±æ€§æœªåœ¨ å­ç»„ä»¶propsä¸­å£°æ˜ï¼Œåˆ™ä¼šé»˜è®¤æŒ‚è½½è‡³å­ç»„ä»¶æ ¹å…ƒç´ ä¸Šã€‚ è¿™æ˜¯å› ä¸ºï¼šæœªåœ¨å­ç»„ä»¶propsä¸­å£°æ˜çš„å±æ€§ï¼Œä¼šè¢«ä½œä¸ºæ™®é€šçš„HTMLç‰¹æ€§åº”ç”¨åœ¨å­ç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šã€‚å¯ä»¥é€šè¿‡é…ç½®å­ç»„ä»¶inheritAttrs:falseï¼ˆ2.4.0 æ–°å¢ï¼‰å°†é»˜è®¤è¡Œä¸ºå»æ‰ï¼ˆå³ï¼Œåœ¨æ ¹å…ƒç´ ä¸­ä¸ä¼šæŒ‚è½½ç»§æ‰¿å±æ€§ï¼‰ã€‚ä½†æ— è®ºæ˜¯å¦é…ç½®inheritAttrsï¼Œéƒ½å¯ä»¥é€šå®ä¾‹å±æ€§$attrsï¼ˆ2.4.0 æ–°å¢ï¼‰è·å–åˆ°ã€‚ è¯¥å±æ€§ä¸å½±å“classå’Œstyleã€‚ 1234//HongKongcreated()&#123; console.log(this.$attrs)//&#123;money:100&#125;&#125; Sceneå½“æˆ‘ä»¬è‡ªè¡Œå°è£…ä¸€ä¸ªç®€æ˜“çš„inputç»„ä»¶ï¼Œåœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼ å…¥ä¸åŒçš„å¤šä¸ªåŸç”Ÿå±æ€§ã€‚ ä¼ ç»Ÿpropså†™æ³•ï¼š 1234567891011121314151617181920212223242526272829&lt;!-- box.vue --&gt;&lt;template&gt; &lt;div&gt; &lt;label :for=\"name\"&gt;&#123;&#123;label&#125;&#125;&lt;/label&gt; &lt;el-input :type=\"type\" :value=\"value\" :name=\"name\" :placeholder=\"placeholder\" /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import ElInput from \"@/components/input.vue\";export default &#123; components: &#123; ElInput &#125;, data() &#123; return &#123; label: \"å§“å\", //è¦ä¼ å…¥ç»„ä»¶çš„å±æ€§ name: \"name\", type: \"text\", value: \"å¦®å¯åŸºå¾·æ›¼\", placeholder: \"è¯·è¾“å…¥å§“å\" &#125;; &#125;&#125;;&lt;/script&gt; 1234567891011121314151617181920212223&lt;template&gt; &lt;div clas=\"el-input\"&gt; &lt;input class=\"input\" :type=\"type\" :value=\"value\" :name=\"name\" :placeholder=\"placeholder\" @input=\"handleInput\"&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: \"ElInput\", props: [\"name\", \"type\", \"value\", \"placeholder\"], methods: &#123; handleInput(event) &#123; this.$emit(\"input\", event.target.value); &#125; &#125;&#125;;&lt;/script&gt; $attrsæ–¹æ³• 123456789101112131415161718192021222324252627282930&lt;!-- box.vue --&gt;&lt;template&gt; &lt;div&gt; &lt;label :for=\"inputConfig.name\"&gt;&#123;&#123;label&#125;&#125;&lt;/label&gt; &lt;el-input v-bind=\"inputConfig\" v-model=\"value\" /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import ElInput from \"@/components/input.vue\";export default &#123; components: &#123; ElInput &#125;, data() &#123; return &#123; label: \"å§“å\", value: \"nas\", inputConfig: &#123; //è¦ä¼ å…¥ç»„ä»¶çš„å±æ€§ name: \"name\", type: \"text\", placeholder: \"è¯·è¾“å…¥å§“å\" &#125; &#125;; &#125;&#125;;&lt;/script&gt; 123456789101112131415161718192021&lt;!-- input.vue --&gt;&lt;template&gt; &lt;div clas=\"el-input\"&gt; &lt;input class=\"input\" v-bind=\"$attrs\" @input=\"handleInput\"&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; name: \"ElInput\", inheritAttrs: false,//ä¸åŠ è¿™æ¡è§„åˆ™ï¼Œ$attrsä¼šé»˜è®¤æŒ‚è½½åˆ°æ ¹å…ƒç´ ä¸Š methods: &#123; handleInput(event) &#123; this.$emit(\"input\", event.target.value); &#125; &#125;&#125;;&lt;/script&gt; å¾ˆæ˜æ˜¾çš„ï¼Œ$attrså‡å°‘äº†ä¸å°‘çš„ä»£ç é‡ï¼Œæ•´ä½“çœ‹èµ·æ¥ç¡®å®ä¼˜é›…å¾ˆå¤šï¼Œè™½è¯´$attrså¯ä»¥ä»£æ›¿propsï¼Œä½†$attrsæ›´é€‚åˆåŸç”Ÿå±æ€§æˆ–ä¸éœ€è¦å¤„ç†çš„å±æ€§ã€‚ åœ¨å¾ˆå¤šåœºæ™¯ä¸‹ï¼Œæ¯”å¦‚è¦å¯¹å±æ€§è¿›è¡Œæ ¡éªŒã€é»˜è®¤å€¼ã€å¤„ç†ç­‰æ“ä½œï¼Œæ›´å»ºè®®ä½¿ç”¨propsã€‚æ¯ä¸ªå±æ€§éƒ½æœ‰å®ƒå­˜åœ¨çš„æ„ä¹‰ï¼Œåˆç†çš„è¿ç”¨ä¸åŒå±æ€§åº”å¯¹ä¸åŒçš„åœºæ™¯ï¼Œæ‰èƒ½å‘æŒ¥å…¶æœ€å¤§ä½œç”¨ã€‚ Others Lifecycle $attrså¯è®¿é—®çš„é˜¶æ®µæ˜¯ beforeCreateï¼Œè€Œpropsè®¿é—®é˜¶æ®µä¸ºcreatedã€‚ Render Function &amp; JSX 12345678910111213141516//input.jsexport default &#123; name: 'ElInput', inheritAttrs: false, render(h) &#123; //TODO:è¿™é‡Œæ”¾jsxæˆ–render function &#125;, methods: &#123; handleInput(event) &#123; this.$emit('input', event.target.value); &#125;, &#125;,&#125;; 123456789101112131415//renderå†™æ³• render(h) &#123; return h('div', &#123; class: 'el-input', &#125;, [ h('input', &#123; //ç»‘å®šåœ¨attrsä¸Š attrs: this.$attrs, on: &#123; input: this.handleInput, &#125;, &#125;), ]); &#125;, 123456//jsxå†™æ³• render(h) &#123; return &lt;div class=\"el-input\"&gt; &lt;input attrs=&#123;this.$attrs&#125; on-input=&#123;this.handleInput&#125; /&gt; &lt;/div&gt;; &#125;, è‹¥ v-bind=â€œ$attrsâ€ ä¸­çš„æŸä¸ªå±æ€§ å·²ç»æœ‰å£°æ˜ï¼Œåˆ™åŸç”Ÿå±æ€§çš„ä¼˜å…ˆçº§æ›´é«˜ã€‚ 12&lt;!-- $attrsä¸º&#123;type:\"text\"&#125;ï¼Œæœ€åç”Ÿæ•ˆçš„ä¸ºtype=\"number\" --&gt;&lt;input type=\"number\" v-bind=\"$attrs\"/&gt;","categories":[{"name":"front-end","slug":"front-end","permalink":"https://cyh41.github.io/categories/front-end/"}],"tags":[{"name":"What's up Vue","slug":"What-s-up-Vue","permalink":"https://cyh41.github.io/tags/What-s-up-Vue/"},{"name":"component communication","slug":"component-communication","permalink":"https://cyh41.github.io/tags/component-communication/"}]}]}